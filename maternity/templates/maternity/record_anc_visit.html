{% extends 'users/dashboard_base.html' %}
{% load static %}

{% block title %}Record ANC Visit - HMS{% endblock %}

{% block content %}
<div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
    <div style="margin-bottom: 30px;">
        <a href="{% url 'maternity:pregnancy_detail' pregnancy.id %}"
            style="color: #00a8e8; text-decoration: none; font-weight: 600;">
            <i class="fas fa-arrow-left"></i> Back to Pregnancy Record
        </a>
    </div>

    <div style="background: white; padding: 32px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
        <div style="margin-bottom: 24px;">
            <h1 style="font-size: 24px; font-weight: 700; color: #0f172a; margin: 0 0 8px 0;">Record ANC Visit</h1>
            <p style="color: #64748b; margin: 0;">{{ pregnancy.patient.full_name }} • {{ pregnancy.para_code }}</p>
        </div>

        <form method="POST">
            {% csrf_token %}

            <!-- Visit Info -->
            <div style="background: #f8fafc; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="font-size: 16px; font-weight: 600; margin: 0 0 16px 0; color: #0f172a;">Visit Information
                </h3>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                    <div>
                        <label class="form-label"><strong>Visit Number</strong> <span
                                style="color: #dc2626;">*</span></label>
                        {{ form.visit_number }}
                    </div>
                    <div>
                        <label class="form-label"><strong>Visit Date</strong> <span
                                style="color: #dc2626;">*</span></label>
                        {{ form.visit_date }}
                    </div>
                    <div>
                        <label class="form-label"><strong>Gestational Age (weeks)</strong> <span
                                style="color: #dc2626;">*</span></label>
                        {{ form.gestational_age }}
                    </div>
                </div>
            </div>

            <!-- Vitals -->
            <div style="background: #f8fafc; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="font-size: 16px; font-weight: 600; margin: 0 0 16px 0; color: #0f172a;">Vital Signs</h3>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
                    <div>
                        <label class="form-label"><strong>Weight (kg)</strong></label>
                        {{ form.weight }}
                    </div>
                    <div>
                        <label class="form-label"><strong>BP Systolic</strong></label>
                        {{ form.bp_systolic }}
                    </div>
                    <div>
                        <label class="form-label"><strong>BP Diastolic</strong></label>
                        {{ form.bp_diastolic }}
                    </div>
                    <div>
                        <label class="form-label"><strong>Temperature (°C)</strong></label>
                        {{ form.temperature }}
                    </div>
                </div>
            </div>

            <!-- Obstetric Examination -->
            <div style="background: #f8fafc; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="font-size: 16px; font-weight: 600; margin: 0 0 16px 0; color: #0f172a;">Obstetric Examination
                </h3>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                    <div>
                        <label class="form-label"><strong>Fundal Height (cm)</strong></label>
                        {{ form.fundal_height }}
                    </div>
                    <div>
                        <label class="form-label"><strong>Fetal Heart Rate (bpm)</strong></label>
                        {{ form.fetal_heart_rate }}
                    </div>
                    <div>
                        <label class="form-label"><strong>Fetal Presentation</strong></label>
                        {{ form.fetal_presentation }}
                    </div>
                </div>
                <div>
                    <label class="form-label"><strong>Fetal Movements</strong></label>
                    {{ form.fetal_movements }}
                </div>
            </div>

          

         
            <!-- Clinical Notes -->
            <div style="background: #f8fafc; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3 style="font-size: 16px; font-weight: 600; margin: 0 0 16px 0; color: #0f172a;">Clinical Notes</h3>
                <div style="margin-bottom: 16px;">
                    <label class="form-label"><strong>Complaints</strong></label>
                    {{ form.complaints }}
                </div>
                <div style="margin-bottom: 16px;">
                    <label class="form-label"><strong>Findings</strong></label>
                    {{ form.findings }}
                </div>
                <div style="margin-bottom: 16px;">
                    <label class="form-label"><strong>Plan</strong></label>
                    {{ form.plan }}
                </div>
                <div>
                    <label class="form-label"><strong>Next Visit Date</strong></label>
                    {{ form.next_visit_date }}
                </div>
            </div>

            <div style="display: flex; gap: 12px; padding-top: 20px; border-top: 1px solid #e2e8f0;">
                <button type="submit"
                    style="background: #00a8e8; color: white; padding: 12px 32px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
                    <i class="fas fa-check"></i> Save ANC Visit
                </button>
                <a href="{% url 'maternity:pregnancy_detail' pregnancy.id %}"
                    style="background: #e2e8f0; color: #475569; padding: 12px 32px; border-radius: 8px; font-weight: 600; text-decoration: none; display: inline-block;">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}