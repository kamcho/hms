# Generated by Django 4.2.27 on 2026-01-30 12:46

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('inpatient', '0005_doctorinstruction_nutritionorder'),
        ('home', '0006_prescription_prescriptionitem'),
    ]

    operations = [
        migrations.CreateModel(
            name='LaborDelivery',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('admission_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('gestational_age_at_delivery', models.PositiveIntegerField(help_text='Weeks')),
                ('labor_onset', models.CharField(choices=[('Spontaneous', 'Spontaneous'), ('Induced', 'Induced'), ('Elective CS', 'Elective C-Section')], max_length=20)),
                ('rupture_of_membranes', models.DateTimeField(blank=True, null=True)),
                ('labor_duration', models.DurationField(blank=True, help_text='Total labor duration', null=True)),
                ('delivery_datetime', models.DateTimeField()),
                ('delivery_mode', models.CharField(choices=[('SVD', 'Spontaneous Vaginal Delivery'), ('AVD', 'Assisted Vaginal Delivery (Vacuum/Forceps)'), ('Emergency CS', 'Emergency C-Section'), ('Elective CS', 'Elective C-Section')], max_length=30)),
                ('maternal_complications', models.TextField(blank=True, help_text='PPH, tears, retained placenta, etc.', null=True)),
                ('episiotomy', models.BooleanField(default=False)),
                ('perineal_tear', models.CharField(blank=True, help_text='Degree of tear', max_length=50)),
                ('estimated_blood_loss', models.PositiveIntegerField(blank=True, help_text='mL', null=True)),
                ('blood_transfusion', models.BooleanField(default=False)),
                ('placenta_delivery', models.CharField(blank=True, choices=[('Complete', 'Complete'), ('Incomplete', 'Incomplete'), ('Manual Removal', 'Manual Removal Required')], max_length=50)),
                ('mother_condition', models.CharField(choices=[('Stable', 'Stable'), ('ICU', 'Transferred to ICU'), ('Deceased', 'Maternal Death')], default='Stable', max_length=50)),
                ('delivery_notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('admission', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delivery', to='inpatient.admission')),
                ('delivery_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deliveries_conducted', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Labor & Delivery Records',
            },
        ),
        migrations.CreateModel(
            name='Newborn',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('baby_number', models.PositiveIntegerField(default=1, help_text='For multiple births')),
                ('gender', models.CharField(choices=[('M', 'Male'), ('F', 'Female'), ('A', 'Ambiguous')], max_length=1)),
                ('birth_datetime', models.DateTimeField()),
                ('birth_weight', models.DecimalField(decimal_places=3, help_text='kg', max_digits=5)),
                ('birth_length', models.DecimalField(blank=True, decimal_places=1, help_text='cm', max_digits=4, null=True)),
                ('head_circumference', models.DecimalField(blank=True, decimal_places=1, help_text='cm', max_digits=4, null=True)),
                ('apgar_1min', models.PositiveIntegerField()),
                ('apgar_5min', models.PositiveIntegerField()),
                ('apgar_10min', models.PositiveIntegerField(blank=True, null=True)),
                ('resuscitation_required', models.BooleanField(default=False)),
                ('resuscitation_details', models.TextField(blank=True, null=True)),
                ('congenital_abnormalities', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Alive', 'Alive and Well'), ('NICU', 'Admitted to NICU'), ('Stillborn', 'Stillborn'), ('Neonatal Death', 'Neonatal Death')], default='Alive', max_length=20)),
                ('breastfeeding_initiated', models.BooleanField(default=False)),
                ('bcg_given', models.BooleanField(default=False)),
                ('opv_0_given', models.BooleanField(default=False, verbose_name='OPV 0 Given')),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('delivery', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='newborns', to='maternity.labordelivery')),
            ],
            options={
                'ordering': ['baby_number'],
            },
        ),
        migrations.CreateModel(
            name='Pregnancy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('registration_date', models.DateField(default=django.utils.timezone.now)),
                ('lmp', models.DateField(verbose_name='Last Menstrual Period')),
                ('edd', models.DateField(verbose_name='Expected Delivery Date')),
                ('gravida', models.PositiveIntegerField(help_text='Total number of pregnancies')),
                ('para', models.PositiveIntegerField(help_text='Number of deliveries after 28 weeks')),
                ('abortion', models.PositiveIntegerField(default=0, help_text='Number of abortions/miscarriages')),
                ('living', models.PositiveIntegerField(default=0, help_text='Number of living children')),
                ('blood_group', models.CharField(blank=True, choices=[('A+', 'A Positive'), ('A-', 'A Negative'), ('B+', 'B Positive'), ('B-', 'B Negative'), ('O+', 'O Positive'), ('O-', 'O Negative'), ('AB+', 'AB Positive'), ('AB-', 'AB Negative')], max_length=3)),
                ('allergies', models.TextField(blank=True, null=True)),
                ('previous_cs', models.BooleanField(default=False, verbose_name='Previous C-Section')),
                ('chronic_conditions', models.TextField(blank=True, help_text='Diabetes, Hypertension, etc.', null=True)),
                ('status', models.CharField(choices=[('Active', 'Active Pregnancy'), ('Delivered', 'Delivered'), ('Miscarriage', 'Miscarriage'), ('Abortion', 'Abortion'), ('Ectopic', 'Ectopic Pregnancy')], default='Active', max_length=20)),
                ('risk_level', models.CharField(choices=[('Low', 'Low Risk'), ('Moderate', 'Moderate Risk'), ('High', 'High Risk')], default='Low', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pregnancies_created', to=settings.AUTH_USER_MODEL)),
                ('patient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pregnancies', to='home.patient')),
            ],
            options={
                'verbose_name_plural': 'Pregnancies',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PostnatalMotherVisit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('visit_date', models.DateField(default=django.utils.timezone.now)),
                ('visit_day', models.PositiveIntegerField(help_text='Days post-delivery')),
                ('bp_systolic', models.PositiveIntegerField(blank=True, null=True)),
                ('bp_diastolic', models.PositiveIntegerField(blank=True, null=True)),
                ('temperature', models.DecimalField(blank=True, decimal_places=1, help_text='°C', max_digits=4, null=True)),
                ('pulse', models.PositiveIntegerField(blank=True, help_text='bpm', null=True)),
                ('uterus_involution', models.CharField(blank=True, help_text='Fundal height', max_length=50)),
                ('lochia', models.CharField(blank=True, choices=[('Normal', 'Normal'), ('Heavy', 'Heavy'), ('Offensive', 'Offensive smell')], max_length=50)),
                ('breastfeeding_status', models.CharField(blank=True, choices=[('Exclusive', 'Exclusive Breastfeeding'), ('Mixed', 'Mixed Feeding'), ('Formula', 'Formula Only'), ('Difficulties', 'Breastfeeding Difficulties')], max_length=50)),
                ('perineum_wound', models.CharField(blank=True, choices=[('N/A', 'Not Applicable'), ('Healing', 'Healing Well'), ('Infected', 'Signs of Infection'), ('Dehiscence', 'Wound Dehiscence')], max_length=50)),
                ('cs_wound', models.CharField(blank=True, choices=[('N/A', 'Not Applicable'), ('Healing', 'Healing Well'), ('Infected', 'Signs of Infection'), ('Dehiscence', 'Wound Dehiscence')], help_text='For C-section deliveries', max_length=50)),
                ('family_planning_counseling', models.BooleanField(default=False)),
                ('contraception_method', models.CharField(blank=True, max_length=100)),
                ('mood_assessment', models.CharField(blank=True, choices=[('Normal', 'Normal'), ('Baby Blues', 'Baby Blues'), ('Concern PPD', 'Concern for Postpartum Depression')], max_length=50)),
                ('complaints', models.TextField(blank=True, null=True)),
                ('findings', models.TextField(blank=True, null=True)),
                ('plan', models.TextField(blank=True, null=True)),
                ('next_visit_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('delivery', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mother_pnc_visits', to='maternity.labordelivery')),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Postnatal Mother Visit',
                'verbose_name_plural': 'Postnatal Mother Visits',
                'ordering': ['-visit_date'],
            },
        ),
        migrations.CreateModel(
            name='PostnatalBabyVisit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('visit_date', models.DateField(default=django.utils.timezone.now)),
                ('visit_day', models.PositiveIntegerField(help_text='Days post-delivery')),
                ('weight', models.DecimalField(decimal_places=3, help_text='kg', max_digits=5)),
                ('length', models.DecimalField(blank=True, decimal_places=1, help_text='cm', max_digits=4, null=True)),
                ('head_circumference', models.DecimalField(blank=True, decimal_places=1, help_text='cm', max_digits=4, null=True)),
                ('temperature', models.DecimalField(blank=True, decimal_places=1, help_text='°C', max_digits=4, null=True)),
                ('feeding_type', models.CharField(blank=True, choices=[('Exclusive BF', 'Exclusive Breastfeeding'), ('Mixed', 'Mixed Feeding'), ('Formula', 'Formula Only')], max_length=50)),
                ('feeding_well', models.BooleanField(default=True)),
                ('feeding_difficulties', models.TextField(blank=True, null=True)),
                ('umbilical_cord', models.CharField(blank=True, choices=[('Attached', 'Still Attached - Clean'), ('Attached Infected', 'Attached - Signs of Infection'), ('Separated', 'Separated - Healing Well'), ('Separated Infected', 'Separated - Infected')], max_length=50)),
                ('jaundice', models.BooleanField(default=False)),
                ('jaundice_level', models.CharField(blank=True, help_text='Clinical assessment or bilirubin level', max_length=50)),
                ('skin_condition', models.CharField(blank=True, help_text='Rashes, infections, etc.', max_length=100)),
                ('eyes', models.CharField(blank=True, help_text='Discharge, conjunctivitis', max_length=100)),
                ('vaccines_given', models.TextField(blank=True, help_text='List vaccines administered', null=True)),
                ('alertness', models.CharField(blank=True, choices=[('Alert', 'Alert and Active'), ('Lethargic', 'Lethargic'), ('Unresponsive', 'Unresponsive')], max_length=50)),
                ('complaints', models.TextField(blank=True, null=True)),
                ('findings', models.TextField(blank=True, null=True)),
                ('plan', models.TextField(blank=True, null=True)),
                ('next_visit_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('newborn', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pnc_visits', to='maternity.newborn')),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Postnatal Baby Visit',
                'verbose_name_plural': 'Postnatal Baby Visits',
                'ordering': ['-visit_date'],
            },
        ),
        migrations.AddField(
            model_name='labordelivery',
            name='pregnancy',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='delivery', to='maternity.pregnancy'),
        ),
        migrations.CreateModel(
            name='AntenatalVisit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('visit_date', models.DateField(default=django.utils.timezone.now)),
                ('visit_number', models.PositiveIntegerField()),
                ('gestational_age', models.PositiveIntegerField(help_text='Weeks')),
                ('weight', models.DecimalField(blank=True, decimal_places=2, help_text='kg', max_digits=5, null=True)),
                ('bp_systolic', models.PositiveIntegerField(blank=True, null=True)),
                ('bp_diastolic', models.PositiveIntegerField(blank=True, null=True)),
                ('temperature', models.DecimalField(blank=True, decimal_places=1, help_text='°C', max_digits=4, null=True)),
                ('fundal_height', models.PositiveIntegerField(blank=True, help_text='cm', null=True)),
                ('fetal_heart_rate', models.PositiveIntegerField(blank=True, help_text='bpm', null=True)),
                ('fetal_presentation', models.CharField(blank=True, choices=[('Cephalic', 'Cephalic (Head down)'), ('Breech', 'Breech'), ('Transverse', 'Transverse'), ('Oblique', 'Oblique')], max_length=50)),
                ('fetal_movements', models.CharField(blank=True, choices=[('Active', 'Active'), ('Reduced', 'Reduced'), ('Absent', 'Absent')], max_length=20)),
                ('hemoglobin', models.DecimalField(blank=True, decimal_places=1, help_text='g/dL', max_digits=4, null=True)),
                ('blood_sugar', models.DecimalField(blank=True, decimal_places=2, help_text='mmol/L', max_digits=5, null=True)),
                ('urine_protein', models.CharField(blank=True, help_text='Negative, +, ++, +++', max_length=10)),
                ('hiv_status', models.CharField(blank=True, choices=[('Negative', 'Negative'), ('Positive', 'Positive'), ('Unknown', 'Unknown')], max_length=20)),
                ('iron_supplements', models.BooleanField(default=False)),
                ('folate_supplements', models.BooleanField(default=False)),
                ('deworming', models.BooleanField(default=False)),
                ('tetanus_toxoid', models.BooleanField(default=False)),
                ('complaints', models.TextField(blank=True, null=True)),
                ('findings', models.TextField(blank=True, null=True)),
                ('plan', models.TextField(blank=True, null=True)),
                ('next_visit_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='anc_visits', to='maternity.pregnancy')),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-visit_date'],
                'unique_together': {('pregnancy', 'visit_number')},
            },
        ),
    ]
